## СБЕР-AI: Агент по рекомендациям банковских вкладов

Проект реализует ИИ-агента для подбора оптимальных вкладов Сбера согласно профилю пользователя.

---

### Содержание

- [Обзор проекта](#обзор-проекта)
- [Установка](#установка)
- [Настройка](#настройка)
- [Миграции базы данных](#миграции-базы-данных)
- [Запуск приложения](#запуск-приложения)
- [Подготовка данных и обучение модели](#подготовка-данных-и-обучение-модели)
- [Ноутбуки](#ноутбуки)
- [Тестирование](#тестирование)


---

## Обзор проекта

Данный проект предоставляет сквозную функциональность для:
1. **Сбора данных**: парсинга и сохранения информации о вкладах и социальных программах Сбербанка.
2. **Очистки данных**: преобразования сырого CSV в чистый формат для моделирования.
3. **Моделирования**: обучения и развёртывания логистической регрессии и решающего дерева для рекомендаций.
4. **Бекенд API**: предоставления рекомендаций через веб-сервис на FastAPI.
5. **Отчётности**: генерации PDF-отчётов с ключевыми инсайтами.
6. **Презентации**: автоматизации создания слайд-дока PowerPoint.
7. **Тестирования**: обеспечения качества кода с помощью pytest.

## Установка

```bash
# Клонировать репозиторий
git clone https://github.com/Kirill-Bovin/Sber-test.git

# Создать виртуальное окружение
python3 -m venv venv
source venv/bin/activate

# Установить зависимости
pip install -r requirements.txt
```

## Настройка
Создайте .env в корне проекта DATABASE_URL=postgresql+asyncpg://kirill:your_password@localhost:5432/deposit_db
 
1. **База данных**: укажите URL вашей БД в `backend/app/db/database.py` или через переменную окружения `DATABASE_URL`.
## Миграции базы данных

Применить миграции Alembic для создания/обновления таблиц:

```bash
alembic upgrade head
```

## Запуск приложения

Запустить сервер FastAPI:

```bash
uvicorn backend.app.main:app --reload
```
Открыть http://127.0.0.1:8000 там будет ии агент


## Подготовка данных и обучение модели

### Подготовка данных

```bash
python scripts/data_prep.py   --input data/raw/deposits.csv   --output data/clean/clean_deposits.csv
```

### Обучение моделей

```bash
python scripts/train_model.py   --data data/clean/clean_deposits.csv   --model-output models/logreg_rec.joblib   --model-output models/decision_tree_rec.joblib
```

## Ноутбуки

- `notebooks/model_prototyping.ipynb`: исследовательский анализ и прототипирование.

## Тестирование

Запустить все тесты:

```bash
pytest
```

## Отчеты
В корне проекта:

report.pdf
presentation.pptx
